!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("ng-swipe-card",["exports","@angular/core"],t):t(e["ng-swipe-card"]={},e.ng.core)}(this,function(e,n){"use strict";var t=function l(){this.likeColor="104,159,56",this.dislikeColor="193,3,2"},i=new n.InjectionToken("sw-swipe-card-default-options",{providedIn:"root",factory:r});function r(){return new t}var o=function(){function e(e,t,i){this._defaultConfig=e,this.el=t,this.renderer=i,this.animationDuration=200,this.isReleased=!1,this.fixed=!1,this.orientation="xy",this.released=new n.EventEmitter,this.swiped=new n.EventEmitter,this.className=!0,this.element=t.nativeElement}return e.prototype.onPan=function(e){this.allowSwipe&&this.handleSwipeChange(e)},e.prototype.onPanEnd=function(e){if(this.allowSwipe){var t=this.orientation.includes("x")&&this.releaseRadius.x<Math.abs(e.deltaX||0),i=this.orientation.includes("y")&&this.releaseRadius.y<Math.abs(e.deltaY||0),n=this.isSwipePositive(e);t||i?this.handleSwipeEnd(n):this.handleCancelSwipe()}},Object.defineProperty(e.prototype,"allowSwipe",{get:function(){return!this.fixed&&!this.isReleased},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){window.clearTimeout(this.timeoutId)},e.prototype.ngOnInit=function(){this.initializeOverlay(),this.releaseRadius={x:this.width/4,y:this.height/4}},e.prototype.initializeOverlay=function(){this.overlay=document.createElement("div"),this.overlay.className="swipe-card-overlay",this.renderer.appendChild(this.element,this.overlay)},e.prototype.translate=function(e){var t=e.x,i=e.y,n=e.rotate,r=void 0===n?0:n,o=e.duration,s=void 0===o?0:o,a=t&&this.orientation.includes("x")?t:0,l=i&&this.orientation.includes("y")?i:0;this.renderer.setStyle(this.element,"transition","transform "+s+"ms ease"),this.renderer.setStyle(this.element,"webkitTransform","translate3d("+a+"px, "+l+"px, 0) rotate("+r+"deg)")},e.prototype.handleSwipeChange=function(e){var t=this.isSwipePositive(e),i=.5*Math.abs(e.distance)/this.element.offsetWidth;this.setBackgroundOverlay(t,i),this.translate({x:e.deltaX,y:e.deltaY,rotate:20*e.deltaX/this.element.clientWidth})},e.prototype.handleCancelSwipe=function(){this.resetBackgroundOverlay(),this.translate({x:0,y:0,rotate:0,duration:this.animationDuration})},e.prototype.destroy=function(){this.resetElementStyles(),this.resetBackgroundOverlay(),this.renderer.removeChild(this.element,this.overlay),this.overlay=null},e.prototype.setBackgroundOverlay=function(e,t){var i=e?this._defaultConfig.likeColor:this._defaultConfig.dislikeColor;this.renderer.setStyle(this.overlay,"transition","opacity 0s ease"),this.renderer.setStyle(this.overlay,"background-color","rgba("+i+", "+t.toString()+")")},e.prototype.resetBackgroundOverlay=function(){this.renderer.setStyle(this.overlay,"transition","opacity "+this.animationDuration+"ms ease"),this.renderer.setStyle(this.overlay,"background-color","rgba(255,255,255,0)")},e.prototype.resetElementStyles=function(){this.renderer.setStyle(this.element,"transition","transform 0s ease"),this.renderer.setStyle(this.element,"webkitTransform","translate3d(0, 0, 0) rotate(0deg)")},e.prototype.isSwipePositive=function(e){return"y"===this.orientation&&e.deltaY<0||"y"!==this.orientation&&0<e.deltaX},e.prototype.removeOverlay=function(e){var t=this.element,i=t.offsetHeight,n=t.offsetWidth,r=t.clientHeight,o=t.clientWidth,s=(i+r)*(e?-1:1),a=(n+o)*(e?1:-1);this.setBackgroundOverlay(e,.35),this.translate({x:a,y:s,rotate:20*a/o,duration:800})},e.prototype.handleSwipeEnd=function(e){var t=this;this.removeOverlay(e),this.isReleased=!0,this.timeoutId=window.setTimeout(function(){t.swiped.emit(e),t.released.emit(),t.destroy()},this.animationDuration)},e.prototype.simulateSwipe=function(e){this.handleSwipeEnd(e)},e.decorators=[{type:n.Directive,args:[{selector:"[swSwipeable]"}]}],e.ctorParameters=function(){return[{type:t,decorators:[{type:n.Inject,args:[i]}]},{type:n.ElementRef},{type:n.Renderer2}]},e.propDecorators={width:[{type:n.HostBinding,args:["style.width.px"]},{type:n.Input}],height:[{type:n.HostBinding,args:["style.height.px"]},{type:n.Input}],fixed:[{type:n.Input}],orientation:[{type:n.Input}],released:[{type:n.Output}],swiped:[{type:n.Output}],className:[{type:n.HostBinding,args:["class.swipe-card-heap"]}],onPan:[{type:n.HostListener,args:["pan",["$event"]]}],onPanEnd:[{type:n.HostListener,args:["panend",["$event"]]}]},e}(),s=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){},e.prototype.like=function(){this.cards.first&&this.cards.first.simulateSwipe(!0)},e.prototype.dislike=function(){this.cards.first&&this.cards.first.simulateSwipe(!1)},e.decorators=[{type:n.Component,args:[{selector:"sw-card-wrapper",template:"\n    <ng-content></ng-content>",styles:[":host {\n    position: relative;\n    display: block;\n  }"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={cards:[{type:n.ContentChildren,args:[o]}]},e}(),a=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[],declarations:[s,o],exports:[s,o]}]}],e}();e.SwipeCardLibModule=a,e.SWSwipeCardConfig=t,e.SW_SWIPE_CARD_DEFAULT_OPTIONS=i,e.SW_SWIPE_CARD_DEFAULT_OPTIONS_FACTORY=r,e.SwipeableDirective=o,e.CardWrapperComponent=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-swipe-card.umd.min.js.map